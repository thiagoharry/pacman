/*
Copyright (c) Thiago "Harry" Leucz Astrizi, 2017

This file is part of pong.

pong is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

pong is distributed in the hope that it will be useful,
but WITHOUT ANY  WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS  FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more  details.

You should have received a copy of the GNU General Public License
along with pong. If not, see <http://www.gnu.org/licenses/>.
*/

#include <sys/time.h>
#include "weaver/weaver.h"
#include "copyleft.h"

/*
  This file is VERY ugly. Here we are orcing a weaver project to do
  things it still shouldn't be able to do. This is not
  portable. Weaver updates may break this. This is nasty. This is not
  a good example, don't try to imitate this. But I do because I can.
*/

#if W_TARGET == W_WEB
extern ALenum alGetError(void);
#endif
                                     // Some  global variables
static struct timeval beginning;
static int state;
static struct sound *hit;
static GLint rotation_loc, render_mode_loc, alpha_loc;
static GLuint VAOs, EBO, buffers;
static GLuint vertex_shader, fragment_shader, program, textures,
  second_texture;
static GLint color_position, texture_coordinate, vertex_position;

void copyleft(void){
  // The copyright symbol has 1045 vertices. No low poly here.
  float vertices[] = {0.1392, -0.1186, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1295, -0.1358, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1180, -0.1515, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1049, -0.1654, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0901, -0.1776, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0738, -0.1880, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0560, -0.1966, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0367, -0.2034, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0161, -0.2083, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0058, -0.2112, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0290, -0.2122, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0571, -0.2105, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0833, -0.2054, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1075, -0.1972, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1296, -0.1858, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1494, -0.1714, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1670, -0.1541, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1821, -0.1340, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1948, -0.1113, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2048, -0.0861, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2121, -0.0584, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2165, -0.0284, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2180, 0.0038, 0.0340, 1.0, 1.0, 0.0, 0.0,  1.0,
                      -0.2164, 0.0334, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2117, 0.0611, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2040, 0.0867, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1934, 0.1101, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1801, 0.1313, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1641, 0.1501, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1457, 0.1663, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1250, 0.1798, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1020, 0.1906, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0769, 0.1984, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0499, 0.2032, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0210, 0.2048, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0003, 0.2040, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0194, 0.2014, 0.0340, 1.0, 1.0, 0.0, 0.0,  1.0,
                      0.0379, 0.1972, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0552, 0.1914, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0713, 0.1840, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0861, 0.1751, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0996, 0.1645, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1118, 0.1525, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1226, 0.1390, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1319, 0.1240, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1397, 0.1076, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1460, 0.0898, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0880, 0.0758, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0826, 0.0878, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0765, 0.0987, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0696, 0.1086, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0620, 0.1175, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0536, 0.1253, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0445, 0.1321, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0346, 0.1378, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0240, 0.1425, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0126, 0.1461, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0005, 0.1487, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0124, 0.1503, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0260, 0.1508, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0444, 0.1495, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0616, 0.1458, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0776, 0.1396, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0922, 0.1312, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1053, 0.1206, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1170, 0.1079, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1271, 0.0933, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1355, 0.0767, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1422, 0.0584, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1470, 0.0384, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1500, 0.0168, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1510, -0.0062, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1500, -0.0287, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1472, -0.0495, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1424, -0.0687, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1359, -0.0862, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1276, -0.1018, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1176, -0.1156, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1060, -0.1274, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0928, -0.1372, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0780, -0.1450, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0618, -0.1506, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0441, -0.1540, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0250, -0.1552, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0110, -0.1544, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0026,  -0.1522, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0155, -0.1485, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0278, -0.1435, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0394, -0.1372, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0501, -0.1296, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0600, -0.1208, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0689, -0.1109, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0767, -0.0999, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0834, -0.0880, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0888, -0.0750, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0930, -0.0612, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1530, -0.0792, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0761, -0.3668, 0.03406, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1241, -0.3570, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1696, -0.3412, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2121, -0.3199, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2512, -0.2934, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2865, -0.2622, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3176, -0.2268, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3439, -0.1875, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3652, -0.1449, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3809, -0.0994, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3907, -0.0513, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3940, -0.0012, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3907, 0.0489, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3809, 0.0969, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3652, 0.1424, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3439, 0.1849, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.3176, 0.2240, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2865, 0.2593, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2512, 0.2904, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2121, 0.3167, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1696, 0.3380, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1241, 0.3537, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0761, 0.3635, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0260, 0.3668, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0241, 0.3635, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0722, 0.3537, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1177, 0.3380, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1603, 0.3167, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1996, 0.2904, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2350, 0.2593, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2662, 0.2240, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2927, 0.1849, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3140, 0.1424, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3298, 0.0969, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3396, 0.0489, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3430, -0.0012, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3396, -0.0513, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3298, -0.0994, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.3140, -0.1449, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2927, -0.1875, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2662, -0.2268, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2350, -0.2622, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1996, -0.2934, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1603, -0.3199, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1177, -0.3412, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0722,
                      -0.3570, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0241, -0.3668,
                      0.03406, 1.0, 1.0, 0.0, 0.0, 1.0, -0.0260, -0.3702,
                      0.03400, 1.0, 1.0, 0.0, 0.0, 1.0, -0.0678, 0.3030, 0.0340,
                      1.0, 1.0, 0.0, 0.0, 1.0, -0.1078, 0.2949, 0.0340, 1.0,
                      1.0, 0.0, 0.0, 1.0, -0.1457, 0.2817, 0.0340, 1.0, 1.0,
                      0.0, 0.0, 1.0, -0.1811, 0.2640, 0.0340, 1.0, 1.0, 0.0,
                      0.0, 1.0, -0.2138, 0.2420, 0.0340, 1.0, 1.0, 0.0, 0.0,
                      1.0, -0.2432, 0.2161, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2692, 0.1866, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2912, 0.1539, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, -0.3089,
                      0.1185, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, -0.3221, 0.0806,
                      0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, -0.3302, 0.0406, 0.0340,
                      1.0, 1.0, 0.0, 0.0, 1.0, -0.3330, -0.0012, 0.0340, 1.0,
                      1.0, 0.0, 0.0, 1.0, -0.3302, -0.0430, 0.0340, 1.0, 1.0,
                      0.0, 0.0, 1.0, -0.3221, -0.0830, 0.0340, 1.0, 1.0, 0.0,
                      0.0, 1.0, -0.3089, -0.1210, 0.0340, 1.0, 1.0, 0.0, 0.0,
                      1.0, -0.2912, -0.1566, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2692, -0.1894, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2432, -0.2189, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.2138, -0.2450, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1811, -0.2671, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1457, -0.2850, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.1078, -0.2982, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0678, -0.3064, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0260, -0.3092, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.0158, -0.3064, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0558,
                      -0.2982, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.0938, -0.2850,
                      0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.1294, -0.2671, 0.0340,
                      1.0, 1.0, 0.0, 0.0, 1.0, 0.1622, -0.2450, 0.0340, 1.0,
                      1.0, 0.0, 0.0, 1.0, 0.1918, -0.2189, 0.0340, 1.0, 1.0,
                      0.0, 0.0, 1.0, 0.2178, -0.1894, 0.0340, 1.0, 1.0, 0.0,
                      0.0, 1.0, 0.2399, -0.1566, 0.0340, 1.0, 1.0, 0.0, 0.0,
                      1.0, 0.2578, -0.1210, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2710, -0.0830, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.2792,
                      -0.0430, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.2820, -0.0012,
                      0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.2792, 0.0406, 0.0340,
                      1.0, 1.0, 0.0, 0.0, 1.0, 0.2710, 0.0806, 0.0340, 1.0, 1.0,
                      0.0, 0.0, 1.0, 0.2578, 0.1185, 0.0340, 1.0, 1.0, 0.0, 0.0,
                      1.0, 0.2399, 0.1539, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.2178, 0.1866, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.1918,
                      0.2161, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.1622, 0.2420,
                      0.0340, 1.0, 1.0, 0.0, 0.0, 1.0, 0.1294, 0.2640, 0.0340,
                      1.0, 1.0, 0.0, 0.0, 1.0, 0.0938, 0.2817, 0.0340, 1.0, 1.0,
                      0.0, 0.0, 1.0, 0.0558, 0.2949, 0.0340, 1.0, 1.0, 0.0, 0.0,
                      1.0, 0.0158, 0.3030, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      -0.0260, 0.3058, 0.0340, 1.0, 1.0, 0.0, 0.0, 1.0,
                      0.1470, -0.0997, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.1392, -0.1186, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.1295, -0.1358, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.1180, -0.1515, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, 0.1049, -0.1654, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0901, -0.1776, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, 0.0738, -0.1880, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.0560, -0.1966, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.0367, -0.2034, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0161,
                      -0.2083, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0058,
                      -0.2112, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0290,
                      -0.2122, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0571,
                      -0.2105, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0833,
                      -0.2054, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1075,
                      -0.1972, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1296,
                      -0.1858, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1494,
                      -0.1714, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1670,
                      -0.1541, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1821,
                      -0.1340, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1948,
                      -0.1113, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2048,
                      -0.0861, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2121,
                      -0.0584, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2165,
                      -0.0284, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2180,
                      0.0038, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2164, 0.0334,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.2117, 0.0611, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.2040, 0.0867, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.1934, 0.1101, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.1801, 0.1313, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.1641, 0.1501, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.1457, 0.1663, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1250, 0.1798, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1020,
                      0.1906, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0769, 0.1984,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0499, 0.2032, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.0210, 0.2048, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.0003, 0.2040, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0194, 0.2014, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.0379, 0.1972, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.0552, 0.1914, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0713,
                      0.1840, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0861, 0.1751,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0996, 0.1645, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.1118, 0.1525, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.1226, 0.1390, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.1319, 0.1240, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.1397, 0.1076, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.1460,
                      0.0898, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0880, 0.0758,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0826, 0.0878, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.0765, 0.0987, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0696, 0.1086, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.0620, 0.1175, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.0536, 0.1253, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0445,
                      0.1321, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0346, 0.1378,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0240, 0.1425, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.0126, 0.1461, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0005, 0.1487, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.0124, 0.1503, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0260, 0.1508, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0444,
                      0.1495, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0616, 0.1458,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0776, 0.1396, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.0922, 0.1312, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.1053, 0.1206, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.1170, 0.1079, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.1271, 0.0933, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.1355, 0.0767, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1422, 0.0584, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1470,
                      0.0384, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1500, 0.0168,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1510, -0.0062, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.1500, -0.0287, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.1472, -0.0495, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.1424, -0.0687, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.1359, -0.0862, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.1276, -0.1018, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1176, -0.1156, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1060, -0.1274, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0928, -0.1372, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0780, -0.1450, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0618, -0.1506, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0441, -0.1540, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0250, -0.1552, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0110, -0.1544, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0026,
                      -0.1522, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0155, -0.1485,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0278, -0.1435, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.0394, -0.1372, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, 0.0501, -0.1296, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0600, -0.1208, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, 0.0689, -0.1109, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.0767, -0.0999, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.0834, -0.0880, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0888,
                      -0.0750, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0930, -0.0612,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.1530, -0.0792, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.0761, -0.36686, -0.03, 1.0,
                      0.0, 0.0, 1.0, 1.40, -0.1241, -0.3570, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.1696, -0.3412, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.2121, -0.3199, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.2512, -0.2934, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.2865, -0.2622, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3176, -0.2268, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3439, -0.1875, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3652, -0.1449, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3809, -0.0994, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3907, -0.0513, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3940, -0.0012, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.3907, 0.0489, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3809,
                      0.0969, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3652, 0.1424,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3439, 0.1849, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.3176, 0.2240, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.2865, 0.2593, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.2512, 0.2904, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.2121, 0.3167, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.1696, 0.3380, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1241, 0.3537, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0761,
                      0.3635, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0260, 0.3668,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0241, 0.3635, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.0722, 0.3537, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.1177, 0.3380, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.1603, 0.3167, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.1996, 0.2904, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2350,
                      0.2593, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2662, 0.2240,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2927, 0.1849, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.3140, 0.1424, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.3298, 0.0969, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.3396, 0.0489, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.3430, -0.0012, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.3396,
                      -0.0513, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.3298, -0.0994,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.3140, -0.1449, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.2927, -0.1875, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, 0.2662, -0.2268, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.2350, -0.2622, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, 0.1996, -0.2934, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.1603, -0.3199, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.1177, -0.3412, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0722,
                      -0.3570, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0241,
                      -0.36686, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0260,
                      -0.37020, -0.03, 1.0, 0.0, 0.0, 1.0, 1.4, -0.0678, 0.3030,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.1078, 0.2949, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.1457, 0.2817, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.1811, 0.2640, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.2138, 0.2420, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.2432, 0.2161, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.2692, 0.1866, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.2912, 0.1539, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3089,
                      0.1185, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3221, 0.0806,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.3302, 0.0406, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, -0.3330, -0.0012, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, -0.3302, -0.0430, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, -0.3221, -0.0830, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, -0.3089, -0.1210, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, -0.2912, -0.1566, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.2692, -0.1894, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.2432, -0.2189, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.2138, -0.2450, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1811, -0.2671, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1457, -0.2850, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.1078, -0.2982, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0678, -0.3064, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.0260, -0.3092, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0158,
                      -0.3064, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0558, -0.2982,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0938, -0.2850, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.1294, -0.2671, -0.034, 1.0,
                      0.0, 0.0, 1.0, 1.0, 0.1622, -0.2450, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.1918, -0.2189, -0.034, 1.0, 0.0, 0.0,
                      1.0, 1.0, 0.2178, -0.1894, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.2399, -0.1566, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.2578, -0.1210, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2710,
                      -0.0830, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2792, -0.0430,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2820, -0.0012, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.2792, 0.0406, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.2710, 0.0806, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.2578, 0.1185, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.2399, 0.1539, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.2178,
                      0.1866, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.1918, 0.2161,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.1622, 0.2420, -0.034,
                      1.0, 0.0, 0.0, 1.0, 1.0, 0.1294, 0.2640, -0.034, 1.0, 0.0,
                      0.0, 1.0, 1.0, 0.0938, 0.2817, -0.034, 1.0, 0.0, 0.0, 1.0,
                      1.0, 0.0558, 0.2949, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      0.0158, 0.3030, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, -0.0260,
                      0.3058, -0.034, 1.0, 0.0, 0.0, 1.0, 1.0, 0.1470, -0.0997,
                      -0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      // Copyleft image:
                      -0.4, -0.4, 0.034, 1.0, 1.0, 0.0, 1.0, 1.0,
                      0.4, -0.4, 0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.4, -0.6, 0.034, 1.0, 1.0, 1.0, 1.0, 1.0,
                      0.4, -0.6, 0.034, 1.0, 0.0, 1.0, 1.0, 1.0,
                      // License image:
                      -0.5, 0.5, 0.034, 1.0, 1.0, 0.0, 1.0, 1.0,
                      0.5, 0.5, 0.034, 1.0, 0.0, 0.0, 1.0, 1.0,
                      -0.5, -0.5, 0.034, 1.0, 1.0, 1.0, 1.0, 1.0,
                      0.5, -0.5, 0.034, 1.0, 0.0, 1.0, 1.0, 1.0,
  };
  // How the vertices form the copyright edges:
  int indices[] = {96, 95, 0, 94, 1, 93, 2, 92, 3, 91, 4, 90, 5, 89, 6, 88, 7,
                   87, 8, 86, 9, 85, 10, 84, 11, 83, 12, 82, 13, 81, 14, 80, 15,
                   79, 16, 78, 17, 77, 18, 76, 19, 75, 20, 74, 21, 73, 22, 72,
                   23, 71, 24, 70, 25, 69, 26, 68, 27, 67, 28, 66, 29, 65, 30,
                   64, 31, 63, 32, 62, 33, 61, 34, 60, 35, 59, 36, 58, 37, 57,
                   38, 56, 39, 55, 40, 54, 41, 53, 42, 52, 43, 51, 44, 50, 45,
                   49, 46, 48, 47, // C back (98)
                   241, 48, 242, 49, 243, 50, 244, 51, 245, 52,
                   246, 53, 247, 54, 248, 55, 249, 56, 250, 57, 251, 58, 252,
                   59, 253, 60, 254, 61, 255, 62, 256, 63, 257, 64, 258, 65,
                   259, 66, 260, 67, 261, 68, 262, 69, 263, 70, 264, 71, 265,
                   72, 266, 73, 267, 74, 268, 75, 269, 76, 270, 77, 271, 78,
                   272, 79, 273, 80, 274, 81, 275, 82, 276, 83, 277, 84, 278,
                   85, 279, 86, 280, 87, 281, 88, 282, 89, 283, 90, 284, 91,
                   285, 92, 286, 93, 287, 94, 288, 95, 289, 96, 290, 0, 193, 1,
                   194, 2, 195, 3, 196, 4, 197, 5, 198, 6, 199, 7, 200, 8, 201,
                   9, 202, 10, 203, 11, 204, 12, 205, 13, 206, 14, 207, 15,
                   208, 16, 209, 17, 210, 18, 211, 19, 212, 20, 213, 21, 214,
                   22, 215, 23, 216, 24, 217, 25, 218, 26, 219, 27, 220, 28,
                   221, 29, 222, 30, 223, 31, 224, 32, 225, 33, 226, 34, 227,
                   35, 228, 36, 229, 37, 230, 38, 231, 39, 232, 40, 233, 41,
                   234, 42, 235, 42, 236, 43, 237, 44, 238, 45, 239, 46, 240,
                   47, 241, // C side (334)
                   240, 242, 239, 243, 238, 244, 237, 245, 236, 246,
                   235, 247, 234, 248, 233, 249, 232, 250, 231, 251, 230, 252,
                   229, 253, 228, 254, 227, 255, 226, 256, 225, 257, 224, 258,
                   223, 259, 222, 260, 221, 261, 220, 262, 219, 263, 218, 264,
                   217, 265, 216, 266, 215, 267, 214, 268, 213, 269, 212, 270,
                   211, 271, 210, 272, 209, 273, 208, 274, 207, 275, 206, 276,
                   205, 277, 204, 278, 203, 279, 202, 280, 201, 281, 200, 282,
                   199, 283, 198, 284, 197, 285, 196, 286, 195, 287, 194, 288,
                   193, 289, 290, 0xffff, 291, 359, 292, 358, 293, 357, 294,
                   356, 295, 355, 296, 354, 297, 353, 298, 352, 299, 351, 300,
                   350, 301, 349, 302, 348, 303, 347, 304, 346, 305, 345, 306,
                   344, 307, 343, 308, 342, 309, 341, 310, 340, 311, 339, 312,
                   386, 313, 385, 314, 384, 315, 383, 316, 382, 317, 381, 318,
                   380, 319, 379, 320, 378, 321, 377, 322, 376, 323, 375, 324,
                   374, 325, 373, 326, 372, 327, 371, 328, 370, 329, 369, 330,
                   368, 331, 368, 332, 367, 333, 366, 334, 365, 335, 364, 336,
                   363, 337, 362, 338, 361, 291, 360, 359, 165, 358, 164, 357,
                   163, 356, 162, 355, 161, 354, 160, 353, 159, 352, 158, 351,
                   157, 350, 156, 349, 155, 348, 154, 347, 153, 346, 152, 345,
                   151, 344, 150, 343, 149, 342, 148, 341, 147, 340, 146, 339,
                   145, 386, 192, 385, 191, 384, 190, 383, 189, 382, 188, 381,
                   187, 380, 186, 379, 185, 378, 184, 377, 183, 376, 182, 375,
                   181, 374, 180, 373, 179, 372, 178, 371, 177, 370, 176, 369,
                   175, 368, 174, 367, 173, 366, 172, 365, 171, 364, 170, 363,
                   169, 362, 168, 361, 167, 360, 166, 165, 99, 164, 100, 163,
                   101, 162, 102, 161, 103, 160, 104, 159, 105, 158, 106, 157,
                   107, 156, 108, 155, 109, 154, 110, 153, 111, 152, 112, 151,
                   113, 150, 114, 149, 115, 148, 116, 147, 117, 146, 118, 145,
                   119, 192, 120, 191, 121, 190, 122, 189, 123, 188, 124, 187,
                   125, 186, 126, 185, 127, 184, 128, 183, 129, 182, 130, 181,
                   131, 180, 132, 179, 133, 178, 134, 177, 135, 176, 136, 175,
                   137, 174, 138, 173, 139, 172, 140, 171, 141, 170, 142, 169,
                   143, 168, 144, 167, 97, 166, 98, 99, 292, 98, 291, 97, 338,
                   144, 337, 143, 336, 142, 335, 141, 334, 140, 333, 139, 332,
                   138, 331, 137, 330, 136, 329, 135, 328, 134, 327, 133, 326,
                   132, 325, 131, 324, 130, 323, 129, 322, 128, 321, 127, 320,
                   126, 319, 125, 318, 124, 317, 123, 316, 122, 315, 121, 314,
                   120, 313, 119, 312, 118, 311, 117, 310, 116, 309, 115, 308,
                   114, 307, 113, 306, 112, 305, 111, 304, 110, 303, 109, 302,
                   108, 301, 107, 300, 106, 299, 105, 298, 104, 297, 103, 296,
                   102, 295, 101, 294, 100, 293, 99, 292, 0xffff, 388, 389,
                   390, 391, /**/ 392, 393, 394, 395};
#include "copyleft_image.c"
  char vertex_source[] ="#version 100\n\nprecision highp float;\nprecision highp int;\nprecision lowp sampler2D;\nprecision lowp samplerCube;\n\nuniform vec3 rotation;\nuniform vec3 scaling;\nuniform vec3 scaling2;\nuniform vec3 translating;\nuniform int render_mode;\n\nattribute vec4 vPosition;\nattribute vec4 vColor;\nattribute vec2 vTexCoord;\n\nvarying vec4 color;\nvarying vec2 tex_coord;\nvarying vec3 normal;\nvarying float fragment_render_mode;\n\nvoid main(){\nmat4 rotation_x = mat4(1.0, 0.0,             0.0,              0.0,\n0.0, cos(rotation.x), -sin(rotation.x), 0.0,\n0.0, sin(rotation.x), cos(rotation.x),  0.0,\n0.0, 0.0,             0.0,              1.0);\nmat4 rotation_y = mat4(cos(rotation.y), 0.0, -sin(rotation.y), 0.0,\n0.0,             1.0, 0.0,              0.0,\nsin(rotation.y), 0.0, cos(rotation.y),  0.0,0.0,             0.0, 0.0,              1.0);\nmat4 scaling = mat4(scaling.x, 0.0,       0.0,       0.0,\n0.0,       scaling.y, 0.0,       0.0,\n0.0,       0.0,       scaling.z, 0.0,\n0.0,       0.0,       0.0,       1.0);\nmat4 scaling2 = mat4(scaling2.x, 0.0,       0.0,       0.0,\n0.0,       scaling2.y, 0.0,       0.0,\n0.0,       0.0,       scaling2.z, 0.0,\n0.0,       0.0,       0.0,       1.0);\nmat4 translate = mat4(1.0, 0.0, 0.0, translating.x,\n0.0, 1.0, 0.0, translating.y,\n0.0, 0.0, 1.0, translating.z,\n0.0, 0.0, 0.0, 1.0);\ngl_Position =  vPosition * translate * rotation_x * rotation_y * scaling * scaling2;\nif(render_mode == 1){\ncolor = vColor;\n}\nelse if(render_mode == 2 || render_mode == 3 || render_mode == 5 || render_mode == 6){\ntex_coord = vTexCoord;\n}\nfragment_render_mode = float(render_mode);\nnormal = normalize(gl_Position.xyz);\n}";
  char fragment_source[] = "#version 100\n\nprecision highp float;\nprecision highp int;\nprecision lowp sampler2D;\nprecision lowp samplerCube;\nuniform sampler2D tex;\nuniform int render_mode;\nuniform float alpha_mod;\nuniform vec4 base_color;\nuniform vec4 second_color;\n\nuniform vec3 ambient;\nuniform vec3 light_direction;\nuniform vec3 half_vector;\nuniform float shininess;\nuniform vec3 light_color;\nuniform float strenght;\n\nvarying vec4 color;\nvarying vec2 tex_coord;\nvarying vec3 normal;\nvarying float fragment_render_mode;\n\nvoid main(){\n  vec4 tmp4;\n  float diffuse = max(0.0, dot(normal, light_direction));\n  float specular = max(0.0, dot(normal, half_vector));\n  vec4 aux_color;\n  if(diffuse == 0.0)\n    specular = 0.0;\n  else\n    specular = pow(specular, shininess);\n\n  vec3 scattered_light = ambient + light_color * diffuse;\n  vec3 reflected_light = light_color * specular * strenght; \n\n  if(render_mode == 1){\naux_color = color;\n}\nelse if(render_mode == 2){\naux_color = texture2D(tex, tex_coord) * vec4(1.0, 1.0, 1.0, alpha_mod);\n}\n  else if(render_mode == 3){\n    aux_color = texture2D(tex, tex_coord);\n    }\n  else if(render_mode == 4){\n    aux_color = base_color;\n}\n  else if(render_mode == 5){\n    tmp4 = texture2D(tex, tex_coord);\n    if(tmp4.a == 0.0)\n      aux_color = base_color;\n    else\n      aux_color = texture2D(tex, tex_coord);\n    }\n  else if(render_mode == 6){\n    tmp4 = texture2D(tex, tex_coord);\n    aux_color = (1.0 - tmp4.a) * base_color + tmp4.a * second_color;\n}\n gl_FragColor = vec4(min(aux_color.rgb * scattered_light + reflected_light, vec3(1.0)),\n aux_color.a); \n\n}\n";
  GLchar *vertex_pointer = (GLchar *) &vertex_source;
  GLchar *fragment_pointer = (GLchar *) &fragment_source;
  GLint scaling_loc, scaling2_loc,
    translating_loc, ambient_loc, light_dir_loc, half_loc,
    shininess_loc, light_col_loc, strenght_loc, tex_loc;
  hit = W.new_sound("hit.wav");
  glDisable(GL_CULL_FACE);
  //glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);
  //glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);
  // Creating shaders
  vertex_shader = glCreateShader(GL_VERTEX_SHADER);
  fragment_shader = glCreateShader(GL_FRAGMENT_SHADER);
  glShaderSource(vertex_shader, 1, (const GLchar **) &vertex_pointer, NULL);
  glShaderSource(fragment_shader, 1, (const GLchar **) &fragment_pointer, NULL);
  glCompileShader(vertex_shader);
  {
    GLint success = 0, logSize = 0;
    glGetShaderiv(vertex_shader, GL_COMPILE_STATUS, &success);
    if(success == GL_FALSE){
      char *buffer;
      glGetShaderiv(vertex_shader, GL_INFO_LOG_LENGTH, &logSize);
      buffer = (char *) _iWalloc(logSize);
      if(buffer == NULL){
        fprintf(stderr, "ERROR (0): Vertex shader failed to compile. "
                "It wasn't possible to discover why because there's no "
                "enough internal memory. Please, increase "
                "the value of W_INTERNAL_MEMORY at conf/conf.h and try "
                "to run this program again.\n");
        exit(1);
      }
      glGetShaderInfoLog(vertex_shader, logSize, NULL, buffer);
      fprintf(stderr, "ERROR (0): Failed to compile shader: %s\n",
              buffer);
      Wfree(buffer);
      exit(1);
    }
  }
  glCompileShader(fragment_shader);
  {
    GLint success = 0, logSize = 0;
    glGetShaderiv(fragment_shader, GL_COMPILE_STATUS, &success);
    if(success == GL_FALSE){
      char *buffer;
      glGetShaderiv(fragment_shader, GL_INFO_LOG_LENGTH, &logSize);
      buffer = (char *) _iWalloc(logSize);
      if(buffer == NULL){
        fprintf(stderr, "ERROR (0): Fragment shader failed to compile. "
                "It wasn't possible to discover why because there's no "
                "enough internal memory. Please, increase "
                "the value of W_INTERNAL_MEMORY at conf/conf.h and try "
                "to run this program again.\n");
        exit(1);
      }
      glGetShaderInfoLog(fragment_shader, logSize, NULL, buffer);
      fprintf(stderr, "ERROR (0): Failed to compile shader: %s\n",
              buffer);
      Wfree(buffer);
      exit(1);
    }
  }
  program = glCreateProgram();
  glAttachShader(program, vertex_shader);
  glAttachShader(program, fragment_shader);
  glLinkProgram(program);
  glUseProgram(program);
  // Uniforms
  tex_loc = glGetUniformLocation(program, "tex");
  alpha_loc = glGetUniformLocation(program, "alpha_mod");
  rotation_loc = glGetUniformLocation(program, "rotation");
  scaling_loc = glGetUniformLocation(program, "scaling");
  scaling2_loc = glGetUniformLocation(program, "scaling2");
  translating_loc = glGetUniformLocation(program, "translating");
  ambient_loc = glGetUniformLocation(program, "ambient");
  light_dir_loc = glGetUniformLocation(program, "light_direction");
  half_loc = glGetUniformLocation(program, "half_vector");
  shininess_loc = glGetUniformLocation(program, "shininess");
  light_col_loc = glGetUniformLocation(program, "light_color");
  strenght_loc = glGetUniformLocation(program, "strenght");
  render_mode_loc = glGetUniformLocation(program, "render_mode");

  glUniform1i(tex_loc, 0);
  glUniform3f(scaling2_loc, 1.0, 1.0, 1.0);
  glUniform3f(ambient_loc, 0.5, 0.5, 0.5);
  glUniform3f(light_dir_loc, 0.0, 0.0, -1.0);
  glUniform3f(half_loc, 0.0, 0.0, 0.1);
  glUniform1f(shininess_loc, 0.0001);
  glUniform3f(light_col_loc, 1.0, 1.0, 1.0);
  glUniform1f(strenght_loc, 0.0001);
  glUniform3f(scaling_loc, (float) W.height / (float) W.width, 1.0, 1.0);
  glUniform3f(rotation_loc, 0.0, 0.0, 0.0);
  glUniform1f(alpha_loc, 1.0);
  glUniform3f(translating_loc, 0.0, 0.0, 0.0);
  glUniform1i(render_mode_loc, 1);

  // Initializing OpenGL background for copyleft symbol
  glGenTextures(1, &textures);
  glGenTextures(1, &second_texture);
  glGenVertexArrays(1, &VAOs);
  glGenBuffers(1, &buffers);
  glGenBuffers(1, &EBO);
  glBindVertexArray(VAOs);
  glBindTexture(GL_TEXTURE_2D, textures);
  glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
  glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, 256, 64, 0, GL_RGBA,
               GL_UNSIGNED_BYTE, &copyleft_image);
  glBindTexture(GL_TEXTURE_2D, second_texture);
  glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
  glBindBuffer(GL_ARRAY_BUFFER, buffers);
  glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);
  glBufferData(GL_ELEMENT_ARRAY_BUFFER, 790 * sizeof(unsigned int), indices,
               GL_STATIC_DRAW);
  glBufferData(GL_ARRAY_BUFFER, 3168 * sizeof(float), vertices, GL_STATIC_DRAW);


  //glBindBuffer(GL_ARRAY_BUFFER, buffers);
  vertex_position = glGetAttribLocation(program, "vPosition");
  color_position = glGetAttribLocation(program, "vColor");
  texture_coordinate = glGetAttribLocation(program, "vTexCoord");
  glVertexAttribPointer(vertex_position, 4, GL_FLOAT, GL_FALSE,
                        8 * sizeof(float),
                        (GLvoid *) 0);
  glVertexAttribPointer(color_position, 4, GL_FLOAT, GL_FALSE,
                        8 * sizeof(float),
                        (GLvoid *) (4 * sizeof(float)));
  glVertexAttribPointer(texture_coordinate, 2, GL_FLOAT, GL_FALSE,
                        8 * sizeof(float),
                        (GLvoid *) (4 * sizeof(float)));
  glEnableVertexAttribArray(vertex_position);
  glEnableVertexAttribArray(color_position);
  glEnableVertexAttribArray(texture_coordinate);

  gettimeofday(&beginning, NULL);
  //glEnable(GL_PROGRAM_POINT_SIZE);
  state = 0;
#if W_TARGET == W_ELF
  for(;;)
    copyleft_loop();
#elif W_TARGET == W_WEB
  emscripten_set_main_loop(copyleft_loop, 0, 1);
#endif
  // Finalizing

}

void copyleft_loop(void){
  struct timeval now;
  unsigned long time_lapse;
  float t;

  gettimeofday(&now, NULL);
  time_lapse = (unsigned long) ((long) (now.tv_usec - beginning.tv_usec) +
                                (long) 1000000 *
                                (now.tv_sec - beginning.tv_sec));
  t = time_lapse / 1000000.0 - 0.5;
  if(state == 0 && time_lapse > 500000){
    // Play sound
    W.play_sound(hit);
    state ++;
  }
  else if(state == 1){
    glUniform3f(rotation_loc, 0.0, ((5.6 * t * t) - (15.0 * t)), 0.0);
    if(t > 1.0)
      state ++;
  }
    // Render, swap window, delay
  glClear(GL_COLOR_BUFFER_BIT);
  glClear(GL_DEPTH_BUFFER_BIT);
  if(t < 3.5){
  glUniform1i(render_mode_loc, 1);//781
  glDrawElements(GL_TRIANGLE_STRIP, 391, GL_UNSIGNED_INT, 0);
  glDrawElements(GL_TRIANGLE_STRIP, 388, GL_UNSIGNED_INT,
                 (GLvoid *) (392 * sizeof(unsigned int)));
  }
  if(state >= 2 && t < 3.5){
    glUniform1i(render_mode_loc, 2);
    if(t < 3.5)
      glUniform1f(alpha_loc,  (t-1.0) / 2.5);
    glBindTexture(GL_TEXTURE_2D, textures);
    glDrawElements(GL_TRIANGLE_STRIP, 4, GL_UNSIGNED_INT,
                   (GLvoid *) (781 * sizeof(unsigned int)));
    glUniform1f(alpha_loc, 1.0);
  }
  if(t > 3.5){
    // Exiting
    glDisableVertexAttribArray(vertex_position);
    glDisableVertexAttribArray(color_position);
    glDisableVertexAttribArray(texture_coordinate);

    glBindBuffer(GL_ARRAY_BUFFER, 0);
    glDeleteVertexArrays(1, &VAOs);
    glDeleteBuffers(1, &EBO);
    glDeleteBuffers(1, &buffers);
    glBindVertexArray(0);
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);
    glBindTexture(GL_TEXTURE_2D, 0);
    glDeleteTextures(1, &textures);
    glDeleteTextures(1, &second_texture);
    W.destroy_sound(hit);
    glEnable(GL_CULL_FACE);
    glDetachShader(program, vertex_shader);
    glDetachShader(program, fragment_shader);
    glDeleteProgram(program);
    glDeleteShader(vertex_shader);
    glDeleteShader(fragment_shader);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);
    glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);
    // Finally, let's exit from this mess:
#if W_TARGET == W_WEB
    emscripten_cancel_main_loop();
#endif
    // Cleaning the errors
    Wloop(license);
  }
#if W_TARGET == W_ELF
  glXSwapBuffers(_dpy, _window);
#endif
}
